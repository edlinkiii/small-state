export class SmallState{#a;#b;#c;#d;constructor(){this.#a={},this.#b={},this.#c=[],this.#d={}}add(t,e,s=!1){return this.#a.hasOwnProperty(t)?(console.error("Specified state property already exists."),!1):(this.#b[t]=e,this.#a[t]=void 0,this.#d[t]=[],this.reset(t),s&&this.#c.push(t),this)}get(t){return this.#a.hasOwnProperty(t)?this.#a[t]:(console.error("Specified state property does not exist."),!1)}set(t,e){return this.#a.hasOwnProperty(t)?this.#c.includes(t)?(console.error("Specified state property is not alterable."),!1):(this.#a[t]=e,this.emit(t),e):(console.error("Specified state property does not exist."),!1)}reset(t){return this.#a.hasOwnProperty(t)?this.#c.includes(t)?(console.error("Specified state property is not alterable."),!1):this.set(t,this.#b[t]):(console.error("Specified state property does not exist."),!1)}remove(t){return this.#a.hasOwnProperty(t)?this.#c.includes(t)?(console.error("Specified state property is not alterable."),!1):(delete this.#a[t],delete this.#b[t],delete this.#d[t],this.#c=this.#c.filter(e=>e!==t),this):(console.error("Specified state property does not exist."),!1)}subscribe(t,e){if("string"==typeof t&&!this.#a.hasOwnProperty(t)){console.error("Specified state property does not exist.");return}Array.isArray(t)?t.forEach(t=>this.subscribe(t,e)):this.#d[t].push(e)}unsubscribe(t,e=null){Array.isArray(t)?t.forEach(t=>this.unsubscribe(t,e)):this.#d[t]=null===e?[]:this.#d[t].filter(t=>t!==e)}emit(t){this.#d[t].forEach(e=>e(this.get(t)))}}